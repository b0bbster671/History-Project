<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/base.css">
    <title>Приключение в России 15-16 века</title>
</head>
<body>
    <img id="pugaloImg" src="Images/pugalo2.png">
    <img id="mageImg" src="Images/white hat.png">
    <img id="izbaImg" src="Images/road.jpg">
    <main>
        <div class="dialogue">
            <p id="story"><b>Владимир</b>: Слушай, а ты уверен, что нужно возвращаться к истокам? Ведь еще в юношестве мне уже доводилось все это изучать</p>            
                <div id="buttons">
                    <button class="aheadButton" onclick="makeChoice('ahead')">Далее</button>
                    <!-- <a href="GLOB_MAP.html">Обратно к карте</a> -->
                </div>
        </div>
    </main>
    <footer>
        <img class="ithubLogo" src="Images/IThub.png">
        <div class="footerText">
            <h4>Внутренний портал студентов ИТ-колледжа</h4>
            <p>Этот сайт является внутренним ресурсом ИТ-колледжа ИТхаб-Екатеринбург и предназначен для использования ИСКЛЮЧИТЕЛЬНО преподавателями, администрацией колледжа и родителями студентов колледжа.
            Если Вы не являетесь сотрудником колледжа или родителем студента колледжа ИТхаб-Екатернинбург, или, если Вы не получили разрешение на доступ от администрации колледжа - просим немедленно покинуть этот сайт.
            Просим воздерживаться от неправомерного или неправомочного доступа.
            2021-2023 © IThub-Ekat Колледж организованный работодателями</p>
        </div>
    </footer> 
    
    <script src="mainScript.js"></script>
    <script>
        function makeChoice(choice) {
            var storyElement = document.getElementById('story');
            
            if (choice === 'ahead') {
                storyElement.innerHTML = '<b>Набитыш</b>: Да, я понимаю, что ты искусный маг, но возвращаться к истокам иногда полезно, дабы освежить знания о тех далеких временах. Тот лес уже неподалеку.';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_2']);
            } else if (choice === 'continue_2') {
                storyElement.innerHTML = '<b>Набитыш</b>: Гляди-ка. Узнаешь, чем они занимаются?';
                checkCharacter();
                izbaImg.src = 'Images/forest_pic.jpg';
                replaceButtons(['Конечно, это какой-то обезумевший народ, который просто дурачится', 'Я думаю, это какой-то обряд'], ['choice_1', 'choice_2']);
            } else if (choice === 'choice_1') {
                storyElement.innerHTML = '<b>Набитыш</b>: Так может показаться на первый взгляд, но на деле они проводят обряд. Древнерусские традиции включали в себя различные обряды, связанные с жизненными событиями, такими как рождение, брак и смерть. Ритуалы направлялись на обеспечение благополучия и защиты';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_3']);
            } else if (choice === 'choice_2') {
                storyElement.innerHTML = '<b>Набитыш</b>: Все верно! Древнерусские традиции включали в себя различные обряды, связанные с жизненными событиями, такими как рождение, брак и смерть. Ритуалы направлялись на обеспечение благополучия и защиты';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_3']);
            } else if (choice === 'continue_3') {
                storyElement.innerHTML = '<b>Набитыш</b>: Я думаю, стоит пойти дальше. Кажется, впереди есть поляна';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_31']);
            }else if (choice === 'continue_31') {
                storyElement.innerHTML = '<b>Набитыш</b>: Как думаешь, что здесь происходит?';
                checkCharacter();
                izbaImg.src = 'Images/muzhik.png';
                replaceButtons(['Кажется, он потерялся и думает, что статуя', 'Кажется, он пытается наделить свой меч чем-то волшебным'], ['choice_3', 'choice_4']);
            }            
            else if (choice === 'choice_3') {
                storyElement.innerHTML = '<b>Набитыш</b>: Возможно. Но на самом деле он держит в руках свой талисман, обычно люди используют талисманы для защиты от негативных воздействий или привлечения положительных энергий. А в лесу он для того, чтобы установить связь с природой. Верование в силу природы, духов-важная часть русской магии. Различные обряды проводились в честь природных явлений.';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_4']);
            }
            else if (choice === 'choice_4') {
                storyElement.innerHTML = '<b>Набитыш</b>: Верно! Он держит в руках свой талисман, обычно люди используют талисманы для защиты от негативных воздействий или привлечения положительных энергий.  А в лесу он для того, чтобы установить связь с природой. Верование в силу природы, духов-важная часть русской магии. Различные обряды проводились в честь природных явлений.';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_4']);
            }
            else if (choice === 'continue_4') {
                storyElement.innerHTML = '<b>Владимир</b>: Ну это я и сам помню, когда-то практиковал подобное.';
                izbaImg.src = 'Images/ded.png';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_5']);
            }
            else if (choice === 'continue_5') {
                storyElement.innerHTML = '<b>Набитыш</b>: И что же он делает?';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_6']);
            }
            else if (choice === 'continue_6') {
                storyElement.innerHTML = '<b>Владимир</b>:Он применяет какое-то заклинание в виде словесных форм и жестов, чтобы повлиять на события и людей';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_7']);
            }
            else if (choice === 'continue_7') {
                storyElement.innerHTML = '<b>Набитыш</b>: Либо он колдун-заговорщик. Заговоры часто применяются для защиты от злых сил, привлечения сил или удачи';
                checkCharacter();
                replaceButtons(['Далее'], ['continue_8']);
                window.location.href = 'LastPage1.html';
            }

        }

        function replaceButtons(labels, choices) {
            var buttonsContainer = document.getElementById('buttons');
            buttonsContainer.innerHTML = '';

            for (var i = 0; i < labels.length; i++) {
                var button = document.createElement('button');
                if(labels.length == 1)
                        button.className = 'aheadButton';
                button.innerText = labels[i];
                button.onclick = (function(choice) {
                    return function() {
                        makeChoice(choice);
                    };
                })(choices[i]);

                buttonsContainer.appendChild(button);
            }

            if(labels.length > 1){
                buttonsContainer.className = 'choicesButtons';
            }
        }
    </script>
</body>
</html>
